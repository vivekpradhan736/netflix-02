{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Vivek/OneDrive/Documents/React JS Tutorial/Project_01-Netflix/netflix-clone02/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Vivek/OneDrive/Documents/React JS Tutorial/Project_01-Netflix/netflix-clone02/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Vivek/OneDrive/Documents/React JS Tutorial/Project_01-Netflix/netflix-clone02/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import'./Banner.css';import axios from'./axios';import requests from'./requests';import YouTube from'react-youtube';import movieTrailer from'movie-trailer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Banner(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movie=_useState2[0],setMovie=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),trailerUrl=_useState4[0],setTrailerUrl=_useState4[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var request;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(requests.fetchHorrorMovies);case 2:request=_context.sent;setMovie(request.data.results[Math.floor(Math.random()*request.data.results.length-1)]);return _context.abrupt(\"return\",request);case 5:case\"end\":return _context.stop();}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);console.log(movie);function truncate(string,n){return(string===null||string===void 0?void 0:string.length)>n?string.substr(0,n-1)+'...':string;}var opts={height:\"390\",width:\"100%\",playerVars:{// https://www.youtube.com/watch?v=BUjXzrgntcY\nautoplay:1}};var handleClick=function handleClick(movie){// console.table(movie?.title)\nif(trailerUrl){setTrailerUrl('');}else{movieTrailer((movie===null||movie===void 0?void 0:movie.title)||\"\").then(function(url){var urlParams=new URLSearchParams(new URL(url).search);setTrailerUrl(urlParams.get('v'));}).catch(function(error){return console.log(error);});}};return/*#__PURE__*/_jsxs(\"header\",{className:\"banner\",style:{backgroundSize:\"cover\",backgroundImage:\"url(\\n                    \\\"https://image.tmdb.org/t/p/original/\".concat(movie===null||movie===void 0?void 0:movie.backdrop_path,\"\\\"\\n               )\"),backgroundPosition:\"center center\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"banner_contents\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"banner_title\",children:(movie===null||movie===void 0?void 0:movie.title)||(movie===null||movie===void 0?void 0:movie.name)||(movie===null||movie===void 0?void 0:movie.original_name)}),/*#__PURE__*/_jsxs(\"div\",{className:\"banner_buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return handleClick(movie);},className:\"banner_button\",children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{className:\"banner_button\",children:\"My List\"})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"banner_description\",children:truncate(movie===null||movie===void 0?void 0:movie.overview,150)})]}),trailerUrl&&/*#__PURE__*/_jsx(YouTube,{videoId:trailerUrl,opts:opts}),/*#__PURE__*/_jsx(\"div\",{className:\"banner--fadeBottom\"})]});}export default Banner;","map":{"version":3,"names":["React","useState","useEffect","axios","requests","YouTube","movieTrailer","Banner","movie","setMovie","trailerUrl","setTrailerUrl","fetchData","get","fetchHorrorMovies","request","data","results","Math","floor","random","length","console","log","truncate","string","n","substr","opts","height","width","playerVars","autoplay","handleClick","title","then","url","urlParams","URLSearchParams","URL","search","catch","error","backgroundSize","backgroundImage","backdrop_path","backgroundPosition","name","original_name","overview"],"sources":["C:/Users/Vivek/OneDrive/Documents/React JS Tutorial/Project_01-Netflix/netflix-clone02/src/Banner.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport './Banner.css'\r\nimport axios from './axios';\r\nimport requests from './requests';\r\nimport YouTube from 'react-youtube';\r\nimport movieTrailer from 'movie-trailer';\r\n\r\nfunction Banner() {\r\n    const [movie, setMovie] = useState([]);\r\n    const [trailerUrl, setTrailerUrl] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            const request = await axios.get(requests.fetchHorrorMovies);\r\n            setMovie(\r\n                request.data.results[\r\n                Math.floor(Math.random() * request.data.results.length - 1)\r\n                ]\r\n            )\r\n            return request;\r\n        }\r\n        fetchData();\r\n    }, []);\r\n\r\n    console.log(movie)\r\n\r\n    function truncate(string, n) {\r\n        return string?.length > n ? string.substr(0, n - 1) + '...' : string;\r\n    }\r\n\r\n    const opts = {\r\n        height: \"390\",\r\n        width: \"100%\",\r\n        playerVars: {\r\n          // https://www.youtube.com/watch?v=BUjXzrgntcY\r\n          autoplay: 1,\r\n        },\r\n      };\r\n  \r\n      const handleClick = (movie) => {\r\n        // console.table(movie?.title)\r\n        if (trailerUrl) {\r\n          setTrailerUrl('')\r\n        } else {\r\n          movieTrailer(movie?.title || \"\")\r\n            .then(url => {\r\n              const urlParams = new URLSearchParams(new URL(url).search);\r\n              setTrailerUrl(urlParams.get('v'));\r\n            }).catch((error) => console.log(error));\r\n        }\r\n      }\r\n\r\n    return (\r\n        <header className='banner'\r\n            style={{\r\n                backgroundSize: \"cover\",\r\n                backgroundImage: `url(\r\n                    \"https://image.tmdb.org/t/p/original/${movie?.backdrop_path}\"\r\n               )`,\r\n                backgroundPosition: \"center center\",\r\n            }}>\r\n            <div className='banner_contents'>\r\n                <h1 className=\"banner_title\">{movie?.title || movie?.name || movie?.original_name}</h1>\r\n                <div className=\"banner_buttons\">\r\n                    <button onClick={() => handleClick(movie)} className=\"banner_button\">Play</button>\r\n                    <button className='banner_button'>My List</button>\r\n                </div>\r\n                <h1 className='banner_description'>\r\n                    {truncate(movie?.overview, 150)}\r\n                </h1>\r\n            </div>\r\n            {trailerUrl && <YouTube videoId={trailerUrl} opts={opts} />}\r\n\r\n            <div className=\"banner--fadeBottom\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Banner"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}